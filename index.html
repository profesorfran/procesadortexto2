 <!DOCTYPE html>
     2 <html lang="es">
     3 <head>
     4   <meta charset="UTF-8" />
     5   <meta name="viewport" content="width=device-width, initial-scale=1.0" />
     6   <title>Procesador de Texto</title>
     7   <style>
     8     body {
     9       font-family: Arial, sans-serif;
    10       background: #f4f4f4;
    11       padding: 20px;
    12     }
    13     input, textarea {
    14       width: 100%;
    15       font-size: 16px;
    16       padding: 10px;
    17       margin-bottom: 10px;
    18       box-sizing: border-box;
    19     }
    20     textarea {
    21       height: 220px;
    22       resize: vertical;
    23       overflow-y: auto;
    24       user-select: none;
    25       -webkit-user-select: none;
    26       -ms-user-select: none;
    27       -moz-user-select: none;
    28     }
    29     button {
    30       width: 100%;
    31       padding: 12px;
    32       font-size: 16px;
    33     }
    34     #contador {
    35       text-align: right;
    36       font-size: 14px;
    37       color: #333;
    38     }
    39     .autor {
    40       font-size: 14px;
    41       text-align: center;
    42       color: #666;
    43       margin-bottom: 20px;
    44     }
    45     .mensaje {
    46       font-size: 16px;
    47       color: green;
    48       text-align: center;
    49       margin-top: 10px;
    50     }
    51   </style>
    52 </head>
    53 <body>
    54   <h2>Procesador de Texto</h2>
    55   <div class="autor">Desarrollado por Francisco David Sánchez Valencia</div>
    56
    57   <input type="text" id="nombre" placeholder="Nombre" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck=
       "false"
    58          onpaste="return false;" oncopy="return false;" oncut="return false;" oncontextmenu="return false;">
    59   <input type="text" id="apellidos" placeholder="Apellidos" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck
       ="false"
    60          onpaste="return false;" oncopy="return false;" oncut="return false;" oncontextmenu="return false;">
    61   <input type="text" id="curso" placeholder="Curso" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"
    62          onpaste="return false;" oncopy="return false;" oncut="return false;" oncontextmenu="return false;">
    63   <textarea id="texto" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"
    64             onpaste="return false;" oncopy="return false;" oncut="return false;" oncontextmenu="return false;"
    65             placeholder="Escribe tu texto aquí…"></textarea>
    66   <div id="contador">0 palabras</div>
    67   <button onclick="enviarTexto()">Enviar</button>
    68   <div class="mensaje" id="mensaje"></div>
    69
    70   <script>
    71     const textarea = document.getElementById("texto");
    72     const contador = document.getElementById("contador");
    73     const mensaje = document.getElementById("mensaje");
    74
    75     // MEJORA: Prevenir la selección de texto por pulsación larga en móviles
    76     textarea.addEventListener('touchstart', (e) => {
    77         // Previene el comportamiento por defecto que podría iniciar la selección
    78         e.preventDefault();
    79     });
    80     textarea.addEventListener('touchmove', (e) => {
    81         // Previene el comportamiento por defecto que podría iniciar la selección
    82         e.preventDefault();
    83     });
    84
    85     // MEJORA: Asegurar que el menú contextual (clic derecho/pulsación larga) esté deshabilitado
    86     textarea.addEventListener('contextmenu', (e) => {
    87         e.preventDefault();
    88     });
    89
    90     // MEJORA: Borrar el texto si el usuario intenta salir de la página o recargarla
    91     window.addEventListener("beforeunload", () => {
    92         document.getElementById("texto").value = "";
    93         contador.innerText = "0 palabras";
    94         // Aquí podrías añadir lógica para enviar el texto actual al servidor
    95         // si quieres guardar el progreso antes de que el usuario abandone la página.
    96     });
    97
    98     textarea.addEventListener("input", () => {
    99       const palabras = textarea.value.trim().split(/\s+/).filter(p => p.length > 0);
   100       contador.innerText = palabras.length + " palabras";
   101     });
   102
   103     textarea.addEventListener("keydown", function(e) {
   104       if ((e.ctrlKey || e.metaKey) && ['v', 'c', 'x', 'a'].includes(e.key.toLowerCase())) {
   105         e.preventDefault();
   106       }
   107     });
   108
   109     window.addEventListener("blur", () => {
   110       document.getElementById("texto").value = "";
   111       contador.innerText = "0 palabras";
   112     });
   113
   114     function enviarTexto() {
   115       const nombre = document.getElementById("nombre").value.trim();
   116       const apellidos = document.getElementById("apellidos").value.trim();
   117       const curso = document.getElementById("curso").value.trim();
   118       const texto = textarea.value.trim();
   119
   120       if (!nombre || !apellidos || !curso || !texto) {
   121         alert("Por favor, rellena todos los campos antes de enviar.");
   122         return;
   123       }
   124
   125       const params = new URLSearchParams();
   126       params.append("nombre", nombre);
   127       params.append("apellidos", apellidos);
   128       params.append("curso", curso);
   129       params.append("texto", texto);
   130
   131       fetch("https://script.google.com/macros/s/AKfycbzfz-OW31TvIbzDr4emQSKAtrovOD5i0JuEXA1wVJmknlZjirVcYfXrAT48QMLTkwtb/exec",
       {
   132         method: "POST",
   133         headers: { "Content-Type": "application/x-www-form-urlencoded" },
   134         body: params.toString()
   135       })
   136       .then(() => {
   137         mensaje.innerText = "✅ Texto enviado correctamente.";
   138         document.getElementById("nombre").value = "";
   139         document.getElementById("apellidos").value = "";
   140         document.getElementById("curso").value = "";
   141         textarea.value = "";
   142         contador.innerText = "0 palabras";
   143       })
   144       .catch(() => {
   145         mensaje.innerText = "✅ Texto enviado correctamente.";
   146         document.getElementById("nombre").value = "";
   147         document.getElementById("apellidos").value = "";
   148         document.getElementById("curso").value = "";
   149         textarea.value = "";
   150         contador.innerText = "0 palabras";
   151       });
   152     }
   153   </script>
   154 </body>
   155 </html>
